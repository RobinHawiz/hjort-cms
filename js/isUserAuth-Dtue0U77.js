import{i as n,a}from"./isResponseError-BKjdF__d.js";const i=e=>e.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace('"',"&quot;").replace("'","&#039;");function l(){const e=".loader-wrapper",t=document.querySelector(e);n(t,e)&&(t.classList.add("remove"),setTimeout(()=>{t.remove()},200))}async function p(e,t={}){try{const r=await fetch(e,t);if(!r.ok){const o=await r.json();throw Array.isArray(o)&&o.every(s=>a(s))?o:a(o)?[o]:[{field:"unknown",message:"Unknown error"}]}return r.status===200?await r.json():void 0}catch(r){throw r instanceof TypeError?[{field:"network",message:"Could not connect to service."}]:r instanceof SyntaxError?[{field:"internal",message:"Failed to parse the response body. The response may be empty or the route may not be returning JSON as expected."}]:r}}async function f(){try{return(await fetch("http://localhost:4000/api/auth",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).ok}catch(e){return console.log("Unexpected app error:",e),!1}}export{i as e,p as f,f as i,l as r};
